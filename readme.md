See https://catlikecoding.com/unity/tutorials/movement/ for the series of tutorials that form the foundation of this character controller.